<script>
    $(function () {
        $("[data-toggle='popover']").popover();
        //按钮添加form提交事件
        $("#updatepaswordbtn").click(function () {
            var newPassword = $("#newPassword").val();
            var confirmPassword = $("#confirmPassword").val();
            var oldPassword = $("#oldPassword").val();
            var obj = this;
            if (newPassword === "" || confirmPassword === "" || oldPassword === "") {
                $(obj).attr("data-content", "密码不能为空，请重新输入！");
                $(obj).popover('show');
                window.setTimeout(function () {
                    $(obj).popover('hide');
                }, 1000);
                return;
            }
            if (newPassword !== confirmPassword) {
                $(obj).attr("data-content", "两次密码不同，请重新输入！");
                $(obj).popover('show');
                window.setTimeout(function () {
                    $(obj).popover('hide');
                }, 1000);
                return;
            }
            if (newPassword.length < 6) {
                $(obj).attr("data-content", "密码长度必须大于六位！");
                $(obj).popover('show');
                window.setTimeout(function () {
                    $(obj).popover('hide');
                }, 1000);
                return;
            }
            $("#updatepasword").submit();
        });
        //重置form表单
        $("#resetform").click(function () {
            $("#updatepasword").find("input").val("");
        });
        $("#updatea").click(function () {
            $("#updatepasword").find("input").val("");
        });
    });

</script>
<!--页面顶部导航条-->
<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
        <!-- Brand and toggle get grouped for better mobile display -->
        
        <div class="navbar-header">
            <div class="col-sm-3 col-md-3">
                <img  class="img-thumbnail" src="${base}/resource/image/jyzn.jpg"/>
            </div>
            <a class="navbar-brand" href="#">极源WIFI</a>
            
        </div>
        <div class="nav navbar-right top-nav">
            <a href="#password" role="button" class="navbar-brand" data-toggle="modal" id="updatea">修改密码</a>  
            <a class="navbar-brand" href="logout"  title="温馨提示"  
               data-container="body" data-toggle="popover" data-placement="right" data-trigger ="hover" 
               data-content="退出登录！">
                <span class="glyphicon glyphicon-off"></span>
            </a>  

        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse left" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav">
                <li>
                    <a href="${base}/index.html">wifi客流</a>
                </li>
                <li>
                    <a href="#">wifi认证页</a>
                </li>
                <li>
                    <a  href="${base}/shop/usermanager/view" >会员营销</a>
                </li>
                <li>
                    <a href="#">推广活动</a>
                </li>
            </ul>  
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>

<!-- 页脚 -->
<nav class="navbar navbar-default navbar-fixed-bottom" role="navigation">
  <div class="container">
    极源智能科技有限公司
  </div>
</nav>


<div id="password" class="modal"  role="dialog" aria-labelledby="myModalLabel" aria-hidden="false" style="width:500px;margin:0px auto;top:30%">  
    <div class="modal-content">
        <div class="modal-header">  
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>  
            <h4 id="myModalLabel" class="text-center">修改密码</h3>  
        </div>  
        <div class="modal-body">  
            <form class="form-horizontal" role="form" action="change-password" id="updatepasword">
                <div class="form-group">
                    <label class="col-sm-3 control-label" for="oldPassword">
                        旧密码：
                    </label>
                    <div class="col-sm-8">
                        <input type="password" class="form-control required" id="oldPassword" maxlength="32" minlength="6" name="oldPassword">
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-3 control-label" for="newPassword">
                        新密码：
                    </label>
                    <div class="col-sm-8">
                        <input type="password" class="form-control required" id="newPassword" maxlength="32" minlength="6" name="newPassword">
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-3 control-label" for="newPasswordagain">
                        新密码：
                    </label>
                    <div class="col-sm-8">
                        <input type="password" class="form-control required" id="confirmPassword" maxlength="32" minlength="6" name="confirmPassword" equalTo="#newPassword" >
                    </div>
                </div>
            </form>
        </div>  
        <div class="modal-footer">  
            <button type="reset" class="btn btn-danger" id="resetform">
                <span class="glyphicon glyphicon-trash"></span> 重置
            </button>
            <button class="btn" data-dismiss="modal" aria-hidden="true">关闭窗口</button>  
            <button class="btn btn-primary" id="updatepaswordbtn" title="提示框"  
                    data-container="body" data-toggle="popover" data-placement="right" data-trigger ="manual" 
                    data-content="">确定修改</button>  
        </div>  
    </div>   
</div>
